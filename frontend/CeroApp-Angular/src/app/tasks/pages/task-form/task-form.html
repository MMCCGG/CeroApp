<h2 class="text-xl font-bold mb-4">Nueva tarea</h2>

<form [formGroup]="taskForm" (ngSubmit)="guardar()" class="space-y-4">
    <div>
        <label for="title" class="block mb-1">Título</label>
        <input id="title" type="text" formControlName="title" class="w-full p-2 border rounded"
            [class.border-red-500]="taskForm.controls.title.invalid && taskForm.controls.title.touched">

        @if (taskForm.controls.title.invalid && taskForm.controls.title.touched) {
        <div class="text-red-500 text-sm mt-1">
            @if (taskForm.controls.title.errors?.['required']) {
            <span>Campo obligatorio</span>
            }
            @if (taskForm.controls.title.errors?.['minlength']) {
            <span>Mínimo 3 caracteres</span>
            }
        </div>
        }
    </div>

    <div class="flex items-center">
        <input id="completed" type="checkbox" formControlName="completed" class="mr-2">
        <label for="completed">Completada</label>
    </div>

    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400"
        [disabled]="taskForm.invalid">
        Guardar
    </button>
</form>